# 品質ゲート定義（QG）— Frontend

> Frontend の各フェーズ移行時のチェック項目を定義する

| 項目 | 値 |
|------|-----|
| ステータス | Draft |
| 作成日 | 2026-02-05 |
| 関連Issue | #107 |

---

## 1. 概要

品質ゲートは、各フェーズから次のフェーズへ移行する際の**必須チェック項目**である。
全項目をクリアしない限り、次フェーズへの移行は認めない。

---

## 2. フェーズ移行ゲート

### QG-1: 要件定義 → 基本設計

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | 全要件にIDが付与されている | Arch |
| 2 | 各要件に優先度（P0/P1/P2/Deferred）が設定されている | PO |
| 3 | 各要件に受入条件（AC）が定義されている | PO |
| 4 | スコープ（やる/やらない）が明示されている | PO |
| 5 | 用語の定義が統一されている | Arch |
| 6 | ステークホルダーのレビュー・承認を得ている | PO |

---

### QG-2: 基本設計 → 詳細設計

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | 全要件（RD）がいずれかのコンポーネント/ページに割り当てられている | Arch |
| 2 | コンポーネント間の依存方向が明確で循環がない | Arch |
| 3 | 各コンポーネントの Props / データフローが定義されている | Arch |
| 4 | API Route の入出力が定義されている | Arch |
| 5 | 非機能要件の実現方針が記載されている | Arch |
| 6 | トレース（←RD）が記載されている | Arch |

---

### QG-3: 詳細設計 → 実装

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | 全コンポーネント（BD定義）の Props / Hook / 内部仕様が記載されている | Dev |
| 2 | 全公開関数の TypeScript シグネチャ・入出力が定義されている | Dev |
| 3 | エラーケース（API 失敗、null 状態等）が網羅されている | Dev |
| 4 | 境界条件が明示されている | Dev |
| 5 | 実装者が「何を書けばいいか」迷わないレベルである | Dev |
| 6 | トレース（←BD）が記載されている | Arch |

---

### QG-4: 実装 → 単体テスト

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | ビルドが通る（`pnpm build` エラーなし） | Dev |
| 2 | 静的解析（ESLint）が通る | Dev |
| 3 | フォーマット（Prettier）が適用されている | Dev |
| 4 | TypeScript の型エラーがない（`pnpm tsc --noEmit`） | Dev |
| 5 | DDに記載のない実装がない（勝手な追加禁止） | Arch |
| 6 | コードレビューを受けている | Arch |

---

### QG-5: 単体テスト → 結合テスト

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | 全UTテストケースがPASS（`pnpm test`） | Dev |
| 2 | DDの全コンポーネント/Hook/関数にテストが存在する | Arch |
| 3 | 正常系・異常系・境界条件がカバーされている | QA |
| 4 | トレース（←DD）が記載されている | Arch |

---

### QG-6: 結合テスト → システムテスト

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | 全ITテストケースがPASS | QA |
| 2 | ページ間遷移・データフローのテストが存在する | Arch |
| 3 | API Route ↔ コンポーネント間の疎通が正しい | QA |
| 4 | トレース（←BD）が記載されている | Arch |

---

### QG-7: システムテスト → リリース

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | 全STテストケースがPASS（Playwright） | QA |
| 2 | 全要件（RD）に対応するSTが存在する | PO |
| 3 | 全P0要件のSTがPASS | PO |
| 4 | 受入条件がすべて満たされている | PO |
| 5 | トレース（←RD）が記載されている | Arch |
| 6 | 顧客/POのレビュー・承認を得ている | PO |

---

## 3. ステアリング運用ゲート

Backend と同一。詳細は [Backend 品質ゲート §3](../../virtual-voicebot-backend/docs/process/quality-gate.md) を参照。

### QG-S1: Draft → Review

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | メタ情報が記入されている | Dev |
| 2 | ストーリー（背景・目的）が記載されている | Dev |
| 3 | 段取り（起票者・日付）が記録されている | Dev |
| 4 | 差分仕様（RD/DD/UT追加分）が記載されている | Dev |
| 5 | トレーサビリティ（影響範囲）が記載されている | Dev |

### QG-S2: Review → Approved

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | 要件の記述が明確か | Arch |
| 2 | 詳細設計で実装者が迷わないか | Arch |
| 3 | テストケースが網羅的か | QA |
| 4 | 既存仕様との整合性があるか | Arch |

### QG-S3: Approved → Merged

| # | チェック項目 | 確認者 |
|---|-------------|--------|
| 1 | 実装が完了している | Dev |
| 2 | コードレビューを受けている | Arch |
| 3 | 関連テストがPASS | QA |
| 4 | 本体仕様書（RD/DD/UT）への反映準備ができている | Dev |

---

## 4. 参照ドキュメント

| ドキュメント | 説明 |
|-------------|------|
| [プロセス定義書](v-model.md) | Frontend V字モデル・成果物定義 |
| [Backend 品質ゲート](../../virtual-voicebot-backend/docs/process/quality-gate.md) | Backend 版（参考） |

---

## 変更履歴

| 日付 | バージョン | 変更内容 | 作成者 |
|------|-----------|---------|--------|
| 2026-02-05 | 1.0 | 初版作成 | Claude Code |
