# 生成AIによるプログラムの実装
## プログラミングの自動化
### プログラムの実装とは
要求の詳細化を踏まえた設計の意図を正しく理解し、それを後からでも万人にも読みやすく、保守しやすい形で具体化する創造的かつ論理的なプロセスである。
- 変数や関数のわかりやすい命名を行うこと
- 処理の粒度や使用頻度に応じた適切な関数分割を行うこと
- 無駄のない制御構造であること
- 必要に応じたコメントがされていること
**読みやすさが最重要で、他人が理解しやすいコードを書くことは、正確さや効率性と並ぶほどに重要な品質である**

## 実装工程における生成AI
### 生成AIの活用が有効なコーディングの自動化及び関連タスクの例
- コードの生成、補完
- コード内のコメント生成
- API/ライブラリの利用方法の提示 
- コードからのドキュメント生成
- コードレビュー
- デバッグ支援
- リファクタリング支援
- テストケース/テストプログラムの生成
### 必要な知識
- プロンプトエンジニアリングの工夫
- ハルシネーション対策
- コードレビューの必要性
- 生成コードに関する著作権の理解

## コード生成のプロンプトエンジニアリング
(1) ゼロショットプロンプティング
例：モデルに対して「○○のコードを書いて」と直接指示する例
- 長所：一般的なコーディングタスクにはには比較的うまく機能する。
- 短所：仕様の細かい部分を理解しきれず、意図と異なるコードが生成されることがある、
(2)フューショットプロンプティング
コーディングスタイルに合わせた関数の生成、あるAPIに基づいたコード生成。
- 短所：例の提示が不十分だと、意図しないコードが提供される、品質は例に依存するので適切な例を学ぶ必要がある。
(3)CoT
## コード生成におけるハルシネーション
(1)内在的ハルシネーション
(2)外在的ハルシネーション
### ハルシネーション対策
完全に防ぐの無理だが、低減させる方法として以下がある
- 目的にあったLLMの選択
- プロンプトの最適化
- RAGの構築
- ファインチューニング
## コードレビューの重要性
以下を繰り返し行うことで、コードの最適化を行う(プロンプトとコードのレビューのフィードバックループ)
- プロンプト設計、最適化
- コードの自動生成
- 人間によるコードレビュー
上記が確認でき次第、後工程に回す
## コード生成で発生する脆弱性
脆弱なコードを生成するリスクがある。
対策としては明確な指示をプロンプトに加える。
### RAGとファインチューニング
未知の情報を取り扱う場合、RAGとの組み合わせが有効である。
- 設計ドキュメント、技術仕様書、ベストプラクティス、コードスニペットを検索対象に含める
- 設計書、仕様書をあらかじめデータベース化しておく
- コード生成後のポストプロセス
- ファインチューニングにより、企業が自社のコード、ドキュメント、プロジェクト特有ルール、コーディング規約に特化したAIとすることができる(ただしお金がかかる)
### 生成AIの最大限活用方法
- ファインチューニングを行う、企業やプロジェクト全体で、仕様書や設計書などのドキュメント類、プロジェクトにおける共有可能なナレッジを形式知化する
## 開発支援ツール
## 導入工程
### 開発環境の整備
①ユーザによる設計書やコード規約などの各種制限のプロンプト
②LLMによるコード生成の実行
③生成コードを開発環境で
同一PCで上記を行えることが重要
### LLMの選択
- 各言語に適したLLMを選択する
### コード生成
### コード要約
## 実開発への応用
CoTを用いて以下の構成でプロンプトを考える。
①指示文書
②規約
③設計書
Markdown形式を用いることが望ましい。(学習データに用いられるのに多いため)
## 実践的なプロンプト設計
コード生成のためのプロンプト構造、処理対処を決定し、より効率的かつ正確なプロンプトを量産する。
- Markdown化した詳細仕様の作成
## コード生成の実行と確認
- コードレビューは必ず行い、プロンプトと一致していることを確認する
- 生成コードの品質が悪い場合、プロンプトの入力量が多いことも考えられる
- 機能細分化、設計情報の簡素化、段階的にコード生成するなど対策が必要。
## LLMによるコード生成の未来像
生成AIによりプログラマ、エンジニアの仕事は置き換わらない。
飽くなき品質向上へのチャレンジに終わりはない。
生成AIのコードは機械学習の産物、過去に存在しないオリジナルかつクリエイティブな高品質なコードを作るのは人間の役割として残り続ける。
実装のアイデア、品質がソフトウェア全体の満足度、信頼性、保守性、プロジェクトの成功に直結するという意識を持つことが大事。
望ましいのは、人間と生成AIとの協業。
必要な人材は
- 独自性、創造性
- 品質に高い関心を持つ
- 生成AI、周辺ツールの特徴を理解する
のスキルを持ち、その上で生成AIを使いこなせる人。