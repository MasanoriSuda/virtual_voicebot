# =============================================================================
# Virtual Voicebot — 環境変数サンプル
#
# 使い方:
#   cp .env.example .env.local && vi .env.local
#
# 注意: AI エンドポイント（Whisper/Ollama/VOICEVOX）は現在コード内で
#       localhost 固定です。URL 変数はコードでは参照されません。
# =============================================================================

# =============================================================================
# === Backend — SIP/RTP ===
# =============================================================================
SIP_BIND_IP=0.0.0.0
SIP_PORT=5060
RTP_PORT=10000
LOCAL_IP=0.0.0.0
ADVERTISED_IP=127.0.0.1
RECORDING_HTTP_ADDR=0.0.0.0:18080

# =============================================================================
# === Backend — AI サービス ===
# LLM: Gemini API（未設定の場合は call_gemini が失敗し Ollama へフォールバック）
# =============================================================================

# Gemini API（設定しない場合は Ollama フォールバック）
# GEMINI_API_KEY=your-api-key
# GEMINI_MODEL=gemini-2.5-flash-lite

# Ollama モデル（デフォルト: gemma3:4b、ラズパイ推奨: llama3.2:1b）
OLLAMA_MODEL=gemma3:4b
# OLLAMA_INTENT_MODEL=gemma3:4b

# AWS Transcribe（USE_AWS_TRANSCRIBE=true にすると Whisper より優先）
# USE_AWS_TRANSCRIBE=false
# AWS_TRANSCRIBE_BUCKET=your-bucket
# AWS_TRANSCRIBE_PREFIX=voicebot

# =============================================================================
# === Backend — データベース（PHONE_LOOKUP_ENABLED=true 時のみ必要）===
# =============================================================================
# PHONE_LOOKUP_ENABLED=false
DATABASE_URL=postgres://voicebot:voicebot_dev@postgres:5432/voicebot

# =============================================================================
# === ログ ===
# =============================================================================
RUST_LOG=info
# LOG_MODE=stdout
# LOG_FORMAT=text

# =============================================================================
# === Docker Compose 用ポートマッピング ===
# （コードでは参照されません。docker-compose.yml のホストポート指定に使用）
# =============================================================================
OLLAMA_HOST_PORT=11435
VOICEVOX_HOST_PORT=50021
POSTGRES_HOST_PORT=5433
POSTGRES_DB=voicebot
POSTGRES_USER=voicebot
POSTGRES_PASSWORD=voicebot_dev

# =============================================================================
# === 将来予定（現在コード未参照 — 実装時に Issue 参照を追加してください）===
# =============================================================================
# TODO(Issue起票): AI エンドポイントを環境変数化する際に有効化
# LLM_PROVIDER=ollama
# TTS_PROVIDER=voicevox
# ASR_PROVIDER=whisper
# OLLAMA_URL=http://ollama:11434
# VOICEVOX_URL=http://voicevox:50021
