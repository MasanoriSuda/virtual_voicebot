# DD-{連番}_{slug}

> {詳細設計の1行サマリ}

| 項目 | 値 |
|------|-----|
| ID | DD-{連番} |
| ステータス | Draft / Review / Approved / Implemented |
| 作成日 | YYYY-MM-DD |
| 関連Issue | #{issue番号} |
| 対応BD | BD-{連番} |
| 対応UT | UT-{連番} |

---

## 1. 概要

### 1.1 目的

{この詳細設計で定義する内容の目的}

### 1.2 対象モジュール

| モジュール | ファイルパス |
|-----------|-------------|
| {名前} | src/{path} |

---

## 2. データ構造

### 2.1 {構造体/クラス名}

```typescript
interface {Name} {
  field1: Type1;  // {説明}
  field2: Type2;  // {説明}
}
```

#### フィールド詳細

| フィールド | 型 | 必須 | デフォルト | 説明 |
|-----------|-----|------|-----------|------|
| field1 | Type1 | Yes | - | {説明} |
| field2 | Type2 | No | {default} | {説明} |

#### 不変条件（Invariants）

- {常に成り立つべき条件}

---

## 3. 関数仕様

### 3.1 {関数名1}

```typescript
function {functionName}(param1: Type1, param2: Type2): ReturnType
```

#### 目的

{この関数の目的}

#### パラメータ

| パラメータ | 型 | 必須 | デフォルト | 説明 |
|-----------|-----|------|-----------|------|
| param1 | Type1 | Yes | - | {説明} |
| param2 | Type2 | No | {default} | {説明} |

#### 戻り値

| 型 | 説明 |
|-----|------|
| ReturnType | {説明} |

#### 事前条件（Preconditions）

- {呼び出し前に満たすべき条件}

#### 事後条件（Postconditions）

- {呼び出し後に保証される条件}

#### エラー

| エラー | 条件 | 対処 |
|--------|------|------|
| {エラー名} | {発生条件} | {対処方法} |

#### 処理フロー

```
1. {ステップ1}
2. {ステップ2}
3. {ステップ3}
```

---

## 4. 状態遷移（該当する場合）

### 4.1 状態一覧

| 状態 | 説明 |
|------|------|
| {状態名} | {説明} |

### 4.2 状態遷移図

```
{状態遷移図（テキストベース）}

[初期状態] --イベント1--> [状態A]
[状態A] --イベント2--> [状態B]
[状態B] --イベント3--> [終了状態]
```

### 4.3 状態遷移表

| 現状態 | イベント | 次状態 | アクション |
|--------|---------|--------|-----------|
| {現状態} | {イベント} | {次状態} | {アクション} |

---

## 5. エラー処理

### 5.1 エラー種別

| エラー | コード | 説明 | リカバリ |
|--------|--------|------|---------|
| {エラー名} | {code} | {説明} | {リカバリ方法} |

### 5.2 エラー伝播

```
{どのレイヤーでどう処理するか}
```

---

## 6. ログ出力

| レベル | 条件 | メッセージ | フィールド |
|--------|------|-----------|-----------|
| INFO | {条件} | {メッセージ} | {フィールド} |
| ERROR | {条件} | {メッセージ} | {フィールド} |

---

## 7. 設計判断・根拠

| 判断 | 理由 | 代替案 |
|------|------|--------|
| {判断内容} | {理由} | {検討した代替案} |

---

## 8. 未確定事項（Open Questions）

- [ ] Q1: {未確定事項1}
- [ ] Q2: {未確定事項2}

---

## 変更履歴

| 日付 | バージョン | 変更内容 | 作成者 |
|------|-----------|---------|--------|
| YYYY-MM-DD | 1.0 | 初版作成 | @{作成者} |
